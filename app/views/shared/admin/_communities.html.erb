<!--
Copyright (C) 2007, 2008, 2009, 2010 Heiko Bernloehr (FreeIT.de).

This file is part of ECS.

ECS is free software: you can redistribute it and/or modify it
under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of
the License, or (at your option) any later version.

ECS is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public
License along with ECS. If not, see <http://www.gnu.org/licenses/>.
-->


<table>

<% for community in @communities %>
	<tr valign="top" class="<%= cycle('list-line-odd', 'list-line-even') %>">

		<TD>
			<SPAN class="list-title"><%= h community.id %></SPAN><BR/>
		</TD>

		<TD>
			<SPAN class="list-title"><%= h community.name %></SPAN><BR/>
			<%= h truncate(community.description,:length => 80) %>
		</TD>


		<TD>
			<%= link_to 'Show', show_admin_community_url(:id => community) %>
			<%= link_to 'Edit', edit_admin_community_url(:id => community) %>
			<%= link_to 'Destroy', destroy_admin_community_url(:id => community), :confirm => 'Are you sure?', :method => :delete %><BR>
      <% if defined? links then -%>
      <% links.each do |link| %>
        <%= eval "link_to \"#{link[:text]}\", #{link[:map_name_function]}" %>
      <% end -%>
      <% end -%>
		</TD>
  </tr>
<% end %>
</table>
